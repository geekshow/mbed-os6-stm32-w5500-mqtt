https://os.mbed.com/users/reedas/code/PinDetect/#d552d2899765
